import com_drugbank as cdb

def medicaments_soignant_symptomes(maladies):
    '''
    Obtenir les médicaments soignant une indication/symptome donnée

    Args:
        indication (str): indication/symptome
    
    Returns:
        medicaments (list): liste des médicaments soignant

    '''

    exist_medicaments = False
 
    retour= []   # liste avec le chemin, les maladies et les médicaments
    medicaments = []

    fichier_xml = "data/DRUGBANK/drugbank_modifiee.xml"

    for maladie in maladies:
        medicaments.extend(cdb.rechercher_medicament(fichier_xml, maladie[1], "")) # Recherche les médicaments soignant les maladies
        medicaments = list(set(medicaments))  # Supprime les doublons

        retour.append([maladie[0], maladie[1], medicaments])

        if medicaments != [] and not exist_medicaments:
            exist_medicaments = True
        
        medicaments = [] # Réinitialise la liste des médicaments

    return retour

    # if not exist_medicaments:
    #     print("Aucun médicament trouvé soignant l'indication/symptome.")

    # else:
    #     print("\n\n\nLes médicaments soignant les maladies sont : ")
    #     for i in retour :
    #         print(i)
    # print("\n\n\n")
    # return retour


#arguement = [('ORPHA', 'Hodgkin lymphoma'), ('ORPHA', 'Giant cell arteritis'), ('OMIM', '#260920 HYPER-IgD SYNDROME; HIDS;;HYPERIMMUNOGLOBULINEMIA D AND PERIODIC FEVER SYNDROME;;PERIODIC FEVER, DUTCH TYPE'), ('ORPHA', 'Cold agglutinin disease'), ('OMIM', '600907 ENAMEL HYPOPLASIA, CATARACTS, AND AQUEDUCTAL STENOSIS'), ('ORPHA', 'Pituitary carcinoma'), ('OMIM', 'ARTERITIS, FAMILIAL GRANULOMATOUS, WITH JUVENILE POLYARTHRITIS'), ('ORPHA', 'American trypanosomiasis'), ('ORPHA', 'Hughes-Stovin syndrome'), ('ORPHA', 'Parkes Weber syndrome'), ('ORPHA', 'Thymic tumor'), ('OMIM', '#133100 ERYTHROCYTOSIS, FAMILIAL, 1; ECYT1;;POLYCYTHEMIA, PRIMARY FAMILIAL AND CONGENITAL; PFCP;;ERYTHROCYTOSIS, AUTOSOMAL DOMINANT BENIGN'), ('OMIM', 'COMPLEX I, SUBUNIT ND5'), ('ORPHA', 'Ectopic aldosterone-producing tumor'), ('ORPHA', 'Perineural cyst'), ('ORPHA', 'Familial hypocalciuric hypercalcemia'), ('ORPHA', 'Benign adult familial myoclonic epilepsy'), ('ORPHA', 'ABeta amyloidosis, Dutch type'), ('OMIM', 'METHEMOGLOBINEMIA DUE TO DEFICIENCY OF METHEMOGLOBIN REDUCTASE'), ('ORPHA', 'Febrile infection-related epilepsy syndrome'), ('ORPHA', 'Lhermitte-Duclos disease'), ('ORPHA', 'Scrub typhus'), ('OMIM', '#613882 HYPOMAGNESEMIA 6, RENAL; HOMG6'), ('OMIM', '#105210 AMYLOIDOSIS, HEREDITARY, TRANSTHYRETIN-RELATED;;HEREDITARY AMYLOIDOSIS, TRANSTHYRETIN-RELATED;;TRANSTHYRETIN AMYLOIDOSIS;;AMYLOID POLYNEUROPATHY, FAMILIAL; FAPAMYLOIDOSIS, LEPTOMENINGEAL, TRANSTHYRETIN-RELATED, INCLUDED;;AMYLOID CARDIOMYOPATHY, TRANSTHYRETIN-RELATED, INCLUDED'), ('OMIM', '#122860 CRANIODIAPHYSEAL DYSPLASIA, AUTOSOMAL DOMINANT; CDD'), ('OMIM', '#601042 DYSTONIA 9; DYT9;;CHOREOATHETOSIS/SPASTICITY, EPISODIC;;CSE CHOREOATHETOSIS, PAROXYSMAL, WITH EPISODIC ATAXIA;;CHOREOATHETOSIS, KINESIGENIC, WITH EPISODIC ATAXIA AND SPASTICITY'), ('ORPHA', 'Systemic mastocytosis'), ('OMIM', 'CYTOCHROME B OF COMPLEX III'), ('OMIM', 'MIGRAINE WITH OR WITHOUT AURA, SUSCEPTIBILITY TO, 10'), ('ORPHA', 'Typhoid'), ('ORPHA', 'Cutaneous mastocytoma'), ('ORPHA', 'Middle ear endocrine tumor'), ('OMIM', '#615651 LEUKOENCEPHALOPATHY WITH ATAXIA; LKPAT'), ('OMIM', 'CEREBRAL CAVERNOUS MALFORMATIONS 2; CCM2'), ('ORPHA', 'Internal carotid agenesis'), ('OMIM', 'COMPLEX IV, CYTOCHROME C OXIDASE SUBUNIT I'), ('OMIM', 'SNEDDON SYNDROME'), ('OMIM', '#263400 ERYTHROCYTOSIS, FAMILIAL, 2; ECYT2;;ERYTHROCYTOSIS, AUTOSOMAL RECESSIVE BENIGN;;POLYCYTHEMIA, VHL-DEPENDENT;;POLYCYTHEMIA, CHUVASH TYPE'), ('ORPHA', 'Familial cold urticaria'), ('ORPHA', 'Juvenile temporal arteritis'), ('ORPHA', 'Rosaï-Dorfman disease'), ('OMIM', 'CEREBRAL ARTERIOPATHY, AUTOSOMAL DOMINANT, WITH SUBCORTICAL INFARCTS AND LEUKOENCEPHALOPATHY, TYPE 2; CADASIL2'), ('OMIM', 'MIGRAINE WITH OR WITHOUT AURA, SUSCEPTIBILITY TO, 1'), ('ORPHA', 'Maculopapular cutaneous mastocytosis'), ('ORPHA', 'Pituicytoma'), ('ORPHA', 'Autoimmune hemolytic anemia, warm type'), ('OMIM', '%118420 CHIARI MALFORMATION TYPE I;;CM1CHIARI MALFORMATION TYPE I WITH SYRINGOMYELIA, INCLUDED;;CM1 WITH SYRINGOMYELIA, INCLUDED'), ('ORPHA', 'Postorgasmic illness syndrome'), ('ORPHA', 'Adrenocortical carcinoma with pure aldosterone hypersecretion'), ('OMIM', 'PARAGANGLIOMAS 1'), ('ORPHA', 'Steroid-responsive encephalopathy associated with autoimmune thyroiditis'), ('ORPHA', 'Ebola hemorrhagic fever'), ('ORPHA', 'Granulomatosis with polyangiitis'), ('ORPHA', 'Primary unilateral adrenal hyperplasia'), ('OMIM', 'GLUTAMATE MONOSODIUM SENSITIVITY'), ('ORPHA', 'Marburg hemorrhagic fever'), ('OMIM', '#131300 CAMURATI-ENGELMANN DISEASE; CAEND;;CED;;ENGELMANN DISEASE;;DIAPHYSEAL DYSPLASIA 1, PROGRESSIVE; DPD1;;PROGRESSIVE DIAPHYSEAL DYSPLASIA; PDD'), ('OMIM', '#603285 CEREBRAL CAVERNOUS MALFORMATIONS 3; CCM3'), ('OMIM', '#239100 HYPEROSTOSIS CORTICALIS GENERALISATA;;VAN BUCHEM DISEASE; VBCH;;HYPERPHOSPHATASEMIA TARDA;;ENDOSTEAL HYPEROSTOSIS, AUTOSOMAL RECESSIVE'), ('ORPHA', 'Adult-onset non-insulinoma persistent hyperinsulinemic hypoglycemia'), ('ORPHA', 'Rift valley fever'), ('OMIM', 'SACRAL DEFECT WITH ANTERIOR MENINGOCELE'), ('OMIM', 'MIGRAINE WITHOUT AURA, SUSCEPTIBILITY TO, 4'), ('OMIM', 'COMPLEX I, SUBUNIT ND2'), ('OMIM', 'OSTEOPATHIA STRIATA WITH CRANIAL SCLEROSIS'), ('OMIM', 'PARAGANGLIOMAS 3'), ('ORPHA', 'Pontiac fever'), ('OMIM', 'HYPERTHERMIA, CUTANEOUS, WITH HEADACHES AND NAUSEA'), ('OMIM', 'FAMILIAL COLD AUTOINFLAMMATORY SYNDROME 2; FCAS2'), ('ORPHA', 'Prolactinoma'), ('OMIM', '#244400 CILIARY DYSKINESIA, PRIMARY, 1; CILD1;;PCD;;CILIARY DYSKINESIA, PRIMARY, 1, WITH OR WITHOUT SITUS INVERSUS;;IMMOTILE CILIA SYNDROME; ICS;;POLYNESIAN BRONCHIECTASISKARTAGENER SYNDROME, INCLUDED;;DEXTROCARDIA, BRONCHIECTASIS, AND SINUSITIS, INCLUDED;;SIEWERT SYNDROME, INCLUDED'), ('ORPHA', 'Pituitary dermoid and epidermoid cysts'), ('ORPHA', 'Autoimmune hemolytic anemia'), ('OMIM', 'PAPILLOMA OF CHOROID PLEXUS'), ('ORPHA', 'Polycythemia vera'), ('ORPHA', 'Familial hyperaldosteronism type III'), ('OMIM', 'CYTOCHROME C OXIDASE III'), ('ORPHA', 'Yellow fever'), ('OMIM', 'PARAGANGLIOMAS 4'), ('OMIM', 'MIGRAINE WITH OR WITHOUT AURA, SUSCEPTIBILITY TO, 3'), ('ORPHA', 'Familial thrombocytosis'), ('ORPHA', 'Lassa fever'), ('ORPHA', 'Gangliocytoma'), ('ORPHA', 'Cushing disease'), ('ORPHA', 'Osteosclerosis-developmental delay-craniosynostosis syndrome'), ('ORPHA', 'Hyperparathyroidism-jaw tumor syndrome'), ('ORPHA', 'Cutaneous mastocytosis'), ('ORPHA', 'Majeed syndrome'), ('ORPHA', 'Carney complex'), ('OMIM', 'FAMILIAL COLD AUTOINFLAMMATORY SYNDROME 1'), ('OMIM', 'MIGRAINE WITH OR WITHOUT AURA, SUSCEPTIBILITY TO, 11'), ('ORPHA', 'TSH-secreting pituitary adenoma'), ('ORPHA', 'L1 syndrome'), ('OMIM', 'DERMODISTORTIVE URTICARIA'), ('ORPHA', 'Babesiosis'), ('ORPHA', 'Wyburn-Mason syndrome'), ('ORPHA', 'Indolent systemic mastocytosis'), ('ORPHA', 'Central neurocytoma'), ('ORPHA', 'Aldosterone-producing adenoma with seizures and neurological abnormalities'), ('ORPHA', 'Secondary polycythemia'), ('OMIM', '#160120 EPISODIC ATAXIA, TYPE 1; EA1;;EPISODIC ATAXIA WITH MYOKYMIA; EAM;;ATAXIA, EPISODIC, WITH MYOKYMIA; AEM; AEMK;;PAROXYSMAL ATAXIA WITH NEUROMYOTONIA, HEREDITARY;;MYOKYMIA WITH PERIODIC ATAXIAMYOKYMIA 1, INCLUDED;;CONTINUOUS MUSCLE FIBER ACTIVITY, HEREDITARY, INCLUDED;;ISAACS-MERTENS SYNDROME, INCLUDED;;MYOKYMIA 1 WITH OR WITHOUT HYPOMAGNESEMIA, INCLUDED'), ('OMIM', 'EPISODIC ATAXIA, TYPE 3'), ('ORPHA', 'Paroxysmal cold hemoglobinuria'), ('ORPHA', 'Nipah virus disease'), ('ORPHA', 'Carney triad'), ('ORPHA', 'Parathyroid carcinoma'), ('ORPHA', 'Primary parathyroid hyperplasia'), ('ORPHA', '15q overgrowth syndrome'), ('ORPHA', 'Acroosteolysis dominant type'), ('OMIM', '#615688 POLYARTERITIS NODOSA, CHILDHOOD-ONSET; PAN;;ADA2 DEFICIENCY'), ('ORPHA', 'Non-functioning pituitary adenoma'), ('ORPHA', 'Alport syndrome'), ('ORPHA', 'Rhabdoid tumor'), ('ORPHA', 'Adiposis dolorosa'), ('ORPHA', 'Familial hyperaldosteronism type II'), ('ORPHA', 'Familial hyperaldosteronism type I'), ('OMIM', 'COMPLEX I, SUBUNIT ND6'), ('OMIM', '#616532 HERPES SIMPLEX ENCEPHALITIS, SUSCEPTIBILITY TO, 7;;ENCEPHALOPATHY, ACUTE, INFECTION-INDUCED, SUSCEPTIBILITY TO, 7; IIAE7'), ('OMIM', '#101000 NEUROFIBROMATOSIS, TYPE II; NF2;;NEUROFIBROMATOSIS, CENTRAL TYPE;;ACOUSTIC SCHWANNOMAS, BILATERAL;;BILATERAL ACOUSTIC NEUROFIBROMATOSIS; BANF;;ACOUSTIC NEURINOMA, BILATERAL; ACN'), ('OMIM', 'OSTEOPETROSIS, AUTOSOMAL DOMINANT 1; OPTA1'), ('OMIM', '%613658 RAJAB SYNDROME;;DEVELOPMENTAL DELAY, SMALL STATURE, MICROCEPHALY, AND BRAIN CALCIFICATIONS'), ('OMIM', 'CLUSTER HEADACHE, FAMILIAL'), ('OMIM', 'DEAFNESS, SENSORINEURAL, WITH PERIPHERAL NEUROPATHY AND ARTERIAL DISEASE'), ('ORPHA', 'Crouzon disease'), ('ORPHA', 'Thiamine-responsive megaloblastic anemia syndrome'), ('OMIM', '#269500 SCLEROSTEOSIS 1; SOST1;;SOST;;CORTICAL HYPEROSTOSIS WITH SYNDACTYLY'), ('ORPHA', 'Pineoblastoma'), ('ORPHA', 'Functioning gonadotropic adenoma'), ('ORPHA', 'Crimean-Congo hemorrhagic fever'), ('ORPHA', 'Primary familial polycythemia'), ('ORPHA', 'Drug-induced autoimmune hemolytic anemia'), ('ORPHA', 'Lyme disease'), ('OMIM', '#116860 CEREBRAL CAVERNOUS MALFORMATIONS; CCM;;CAVERNOUS ANGIOMA, FAMILIAL;;CAVERNOUS ANGIOMATOUS MALFORMATIONS; CAM;;CEREBRAL CAPILLARY MALFORMATIONSCEREBRAL CAVERNOUS MALFORMATIONS 1, INCLUDED; CCM1, INCLUDED;;CAVERNOUS MALFORMATIONS OF CNS AND RETINA, INCLUDED;;HYPERKERATOTIC CUTANEOUS CAPILLARY-VENOUS MALFORMATIONS ASSOCIATEDWITH CEREBRAL CAPILLARY MALFORMATIONS, INCLUDED'), ('ORPHA', 'Malaria'), ('OMIM', 'ECTODERMAL DYSPLASIA WITH MENTAL RETARDATION AND SYNDACTYLY'), ('OMIM', '#615399 PAROXYSMAL NOCTURNAL HEMOGLOBINURIA 2; PNH2'), ('ORPHA', 'Central diabetes insipidus'), ('ORPHA', 'Neurofibromatosis type 1'), ('OMIM', 'PARIETAL FORAMINA'), ('ORPHA', 'Dengue fever'), ('OMIM', 'VIBRATORY ANGIOEDEMA'), ('ORPHA', 'Lujo hemorrhagic fever')]
#medicaments_soignant_symptomes(arguement)